<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script src="js/axios.js"></script>
    <script>
      // async / await是ES7引入的新语法， 可以更加方便的进行异步操作
      // async 关键字用于函数上（ async函数的返回值是Promise实例对象）
      // await 关键字用于 async 函数当中（ await可以得到异步的结果）

      axios.defaults.baseURL = 'http:localhost:3000'

      // (1)传统axios调用接口
      // axios.get('/adata').then(res => {
      //     console.log(res.data); //Hello axios!
      // });

      // (2)async/await用法：
      // 1、封装一个函数，并在函数前面加上async关键字，
      // 2、函数内部通过await处理异步任务
      // async function queryData() {
      //     var ret = await axios.get('/adata');
      //     return ret.data;//在下面调用queryData函数并.then()就能得到此返回值
      // }

      // (3)await后面也可以跟一个Promise实例对象，在Promise里面可以处理异步任务
      async function queryData() {
        var ret = await new Promise(function (resolve, reject) {
          setTimeout(function () {
            resolve('hi')
          }, 1000)
        })
        return ret
      }
      queryData().then((data) => {
        console.log(data)
      })
    </script>
  </body>
</html>
